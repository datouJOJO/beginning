(function(t){function e(e){for(var a,s,c=e[0],r=e[1],l=e[2],u=0,h=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n={app:0},o=[];function c(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-00236c95":"fd89d39c","chunk-240ca8eb":"833f740b","chunk-27ccb0ff":"8b1a7b8a","chunk-694d5f9e":"2a886022","chunk-7efea3f2":"f38576c2","chunk-7fe92c9b":"f42364e0","chunk-1c26093c":"c51c76b6","chunk-be11b98e":"c383c1a0","chunk-92a14dc8":"47c0d21e","chunk-18c57537":"b32d0800","chunk-5272f513":"928ecf2c","chunk-5e8139b2":"cb3ba3fe","chunk-7825f32a":"03fcba44","chunk-78792e49":"b0843513","chunk-54777ed0":"59d6d24e","chunk-a1e28174":"3866b38d","chunk-94a00e3a":"473bc232"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i={"chunk-00236c95":1,"chunk-240ca8eb":1,"chunk-27ccb0ff":1,"chunk-694d5f9e":1,"chunk-7efea3f2":1,"chunk-be11b98e":1,"chunk-92a14dc8":1,"chunk-18c57537":1,"chunk-5272f513":1,"chunk-5e8139b2":1,"chunk-7825f32a":1,"chunk-78792e49":1,"chunk-54777ed0":1,"chunk-a1e28174":1,"chunk-94a00e3a":1};s[t]?e.push(s[t]):0!==s[t]&&i[t]&&e.push(s[t]=new Promise((function(e,i){for(var a="css/"+({}[t]||t)+"."+{"chunk-00236c95":"f162abad","chunk-240ca8eb":"0a63af19","chunk-27ccb0ff":"d8309225","chunk-694d5f9e":"8e2853db","chunk-7efea3f2":"22d76a8f","chunk-7fe92c9b":"31d6cfe0","chunk-1c26093c":"31d6cfe0","chunk-be11b98e":"ccec57f1","chunk-92a14dc8":"f0222215","chunk-18c57537":"309a8398","chunk-5272f513":"5acf8b0a","chunk-5e8139b2":"32ec811a","chunk-7825f32a":"50e6f249","chunk-78792e49":"29484834","chunk-54777ed0":"36cf56af","chunk-a1e28174":"e77735e4","chunk-94a00e3a":"c5630523"}[t]+".css",n=r.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===n))return e()}var h=document.getElementsByTagName("style");for(c=0;c<h.length;c++){l=h[c],u=l.getAttribute("data-href");if(u===a||u===n)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete s[t],d.parentNode.removeChild(d),i(o)},d.href=n;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){s[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=c(t);var h=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var i=n[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",h.name="ChunkLoadError",h.type=a,h.request=s,i[1](h)}n[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var d=u;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0122":function(t,e,i){},"01c9":function(t,e,i){},"0a0f":function(t,e,i){"use strict";var a=i("902b"),s=i.n(a);s.a},"17d0":function(t,e,i){},"1ede":function(t,e,i){},"3a10":function(t,e,i){},"3c20":function(t,e,i){},"469b":function(t,e,i){},"4f5e":function(t,e,i){"use strict";var a=i("1ede"),s=i.n(a);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("4de4"),i("b680"),i("d3b7"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{id:"app"}},[i("TopNavBar"),i("SideNavBar"),i("v-content",[i("router-view",{key:t.$route.fullPath})],1),i("Footer"),i("BackTop"),i("searchModel"),i("LoginModel"),i("RegisterModel"),i("ForgetModel"),i("EmailModel"),1==t.blogInfo.websiteConfig.isChatRoom?i("ChatRoom"):t._e()],1)},n=[],o=(i("ac1f"),i("466d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{class:t.navClass,attrs:{app:"","hide-on-scroll":"",flat:"",height:"60"}},[i("div",{staticClass:"d-md-none nav-mobile-container"},[i("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[i("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.blogInfo.websiteConfig.websiteAuthor)+" ")])],1),i("div",{staticStyle:{"margin-left":"auto"}},[i("a",{on:{click:t.openSearch}},[i("i",{staticClass:"iconfont iconsousuo"})]),i("a",{staticStyle:{"margin-left":"10px","font-size":"20px"},on:{click:t.openDrawer}},[i("i",{staticClass:"iconfont iconhanbao"})])])]),i("div",{staticClass:"d-md-block d-none nav-container"},[i("div",{staticClass:"float-left blog-title"},[i("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.blogInfo.websiteConfig.websiteAuthor)+" ")])],1),i("div",{staticClass:"float-right nav-title"},[i("div",{staticClass:"menus-item"},[i("a",{staticClass:"menu-btn",on:{click:t.openSearch}},[i("i",{staticClass:"iconfont iconsousuo"}),t._v(" 搜索 ")])]),i("div",{staticClass:"menus-item"},[i("router-link",{staticClass:"menu-btn",attrs:{to:"/"}},[i("i",{staticClass:"iconfont iconzhuye"}),t._v(" 首页 ")])],1),i("div",{staticClass:"menus-item"},[i("a",{staticClass:"menu-btn"},[i("i",{staticClass:"iconfont iconfaxian"}),t._v(" 发现 "),i("i",{staticClass:"iconfont iconxiangxia2 expand"})]),i("ul",{staticClass:"menus-submenu"},[i("li",[i("router-link",{attrs:{to:"/archives"}},[i("i",{staticClass:"iconfont iconguidang"}),t._v(" 归档 ")])],1),i("li",[i("router-link",{attrs:{to:"/categories"}},[i("i",{staticClass:"iconfont iconfenlei"}),t._v(" 分类 ")])],1),i("li",[i("router-link",{attrs:{to:"/tags"}},[i("i",{staticClass:"iconfont iconbiaoqian"}),t._v(" 标签 ")])],1)])]),i("div",{staticClass:"menus-item"},[i("a",{staticClass:"menu-btn"},[i("i",{staticClass:"iconfont iconqita"}),t._v(" 娱乐 "),i("i",{staticClass:"iconfont iconxiangxia2 expand"})]),i("ul",{staticClass:"menus-submenu"},[i("li",[i("router-link",{attrs:{to:"/albums"}},[i("i",{staticClass:"iconfont iconxiangce1"}),t._v(" 相册 ")])],1)])]),i("div",{staticClass:"menus-item"},[i("router-link",{staticClass:"menu-btn",attrs:{to:"/about"}},[i("i",{staticClass:"iconfont iconzhifeiji"}),t._v(" 关于 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{staticClass:"menu-btn",attrs:{to:"/message"}},[i("i",{staticClass:"iconfont iconpinglunzu"}),t._v(" 留言 ")])],1),i("div",{staticClass:"menus-item"},[this.$store.state.avatar?[i("img",{staticClass:"user-avatar",attrs:{src:this.$store.state.avatar,height:"30",width:"30"}}),i("ul",{staticClass:"menus-submenu"},[i("li",[i("router-link",{attrs:{to:"/user"}},[i("i",{staticClass:"iconfont icongerenzhongxin"}),t._v(" 个人中心 ")])],1),i("li",[i("a",{on:{click:t.logout}},[i("i",{staticClass:"iconfont icontuichu"}),t._v(" 退出")])])])]:i("a",{staticClass:"menu-btn",on:{click:t.openLogin}},[i("i",{staticClass:"iconfont icondenglu"}),t._v(" 登录 ")])],2)])])])}),c=[],r={mounted:function(){window.addEventListener("scroll",this.scroll)},data:function(){return{navClass:""}},methods:{scroll:function(){var t=this,e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t.scrollTop=e,t.scrollTop>60?t.navClass="nav-fixed":t.navClass="nav"},openSearch:function(){this.$store.state.searchFlag=!0},openDrawer:function(){this.$store.state.drawer=!0},openLogin:function(){this.$store.state.loginFlag=!0},logout:function(){var t=this;"/user"==this.$route.path&&this.$router.go(-1),this.axios.post("/api/logout").then((function(e){var i=e.data;i.flag?(console.log("token销毁情况"),t.$store.commit("logout"),window.sessionStorage.removeItem("Authorization"),console.log(window.sessionStorage.getItem("Authorization")),t.$toast({type:"success",message:"注销成功"})):t.$toast({type:"error",message:i.message})}))}},computed:{avatar:function(){return this.$store.state.avatar},blogInfo:function(){return this.$store.state.blogInfo}}},l=r,u=(i("7aa5"),i("2877")),h=i("6544"),d=i.n(h),f=i("40dc"),p=Object(u["a"])(l,o,c,!1,null,"15761d62",null),m=p.exports;d()(p,{VAppBar:f["a"]});var g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{attrs:{app:"",width:"250","disable-resize-watcher":"",right:"","overlay-opacity":"0.8"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("div",{staticClass:"blogger-info"},[i("v-avatar",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{size:"110"}},[i("img",{attrs:{src:this.$store.state.blogInfo.websiteConfig.websiteAvatar}})])],1),i("div",{staticClass:"blog-info-wrapper"},[i("div",{staticClass:"blog-info-data"},[i("router-link",{attrs:{to:"/archives"}},[i("div",{staticStyle:{"font-size":"0.875rem"}},[t._v("文章")]),i("div",{staticStyle:{"font-size":"1.125rem"}},[t._v(" "+t._s(this.$store.state.blogInfo.articleCount)+" ")])])],1),i("div",{staticClass:"blog-info-data"},[i("router-link",{attrs:{to:"/categories"}},[i("div",{staticStyle:{"font-size":"0.875rem"}},[t._v("分类")]),i("div",{staticStyle:{"font-size":"1.125rem"}},[t._v(" "+t._s(this.$store.state.blogInfo.categoryCount)+" ")])])],1),i("div",{staticClass:"blog-info-data"},[i("router-link",{attrs:{to:"/tags"}},[i("div",{staticStyle:{"font-size":"0.875rem"}},[t._v("标签")]),i("div",{staticStyle:{"font-size":"1.125rem"}},[t._v(" "+t._s(this.$store.state.blogInfo.tagCount)+" ")])])],1)]),i("hr"),i("div",{staticClass:"menu-container"},[i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/"}},[i("i",{staticClass:"iconfont iconzhuye"}),t._v(" 首页 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/archives"}},[i("i",{staticClass:"iconfont iconguidang"}),t._v(" 归档 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/albums"}},[i("i",{staticClass:"iconfont iconxiangce1"}),t._v(" 相册 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/categories"}},[i("i",{staticClass:"iconfont iconfenlei"}),t._v(" 分类 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/tags"}},[i("i",{staticClass:"iconfont iconbiaoqian"}),t._v(" 标签 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/about"}},[i("i",{staticClass:"iconfont iconzhifeiji"}),t._v(" 关于 ")])],1),i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/message"}},[i("i",{staticClass:"iconfont iconpinglunzu"}),t._v(" 留言 ")])],1),this.$store.state.avatar?i("div",[i("div",{staticClass:"menus-item"},[i("router-link",{attrs:{to:"/user"}},[i("i",{staticClass:"iconfont icongerenzhongxin"}),t._v(" 个人中心 ")])],1),i("div",{staticClass:"menus-item"},[i("a",{on:{click:t.logout}},[i("i",{staticClass:"iconfont icontuichu"}),t._v(" 退出")])])]):i("div",{staticClass:"menus-item"},[i("a",{on:{click:t.openLogin}},[i("i",{staticClass:"iconfont icondenglu"}),t._v(" 登录 ")])])])])},v=[],k={computed:{drawer:{set:function(t){this.$store.state.drawer=t},get:function(){return this.$store.state.drawer}},isLogin:function(){return this.$store.state.userId}},methods:{openLogin:function(){this.$store.state.loginFlag=!0},logout:function(){var t=this;"/user"==this.$route.path&&this.$router.go(-1),this.axios.get("/api/logout").then((function(e){var i=e.data;i.flag?(t.$store.commit("logout"),t.$toast({type:"success",message:"注销成功"})):t.$toast({type:"error",message:i.message})}))}}},b=k,w=(i("8a98"),i("8212")),y=i("f774"),j=Object(u["a"])(b,g,v,!1,null,"7a4d66a1",null),x=j.exports;d()(j,{VAvatar:w["a"],VNavigationDrawer:y["a"]});var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.isMessage?t._e():i("v-footer",{attrs:{app:"",padless:"",absolute:""}},[i("div",{staticClass:"footer-wrap"},[i("div",[t._v(" ©"+t._s(t._f("year")(t.blogInfo.websiteConfig.websiteCreateTime))+" - "+t._s((new Date).getFullYear())+" By "+t._s(t.blogInfo.websiteConfig.websiteAuthor)+" ")]),i("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[t._v(" "+t._s(t.blogInfo.websiteConfig.websiteRecordNo)+" ")])])])},_=[],$={computed:{isMessage:function(){return"/message"==this.$route.path},blogInfo:function(){return this.$store.state.blogInfo}}},S=$,I=(i("b3ca"),i("553a")),E=Object(u["a"])(S,C,_,!1,null,"324546e5",null),L=E.exports;d()(E,{VFooter:I["a"]});var A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rightside",style:t.isShow},[i("div",{class:"rightside-config-hide "+t.isOut},[i("i",{class:"iconfont rightside-icon "+t.icon,on:{click:t.check}})]),i("div",{staticClass:"setting-container",on:{click:t.show}},[i("i",{staticClass:"iconfont iconshezhi setting"})]),i("i",{staticClass:"iconfont rightside-icon iconziyuanldpi",on:{click:t.backTop}})])},F=[],T={mounted:function(){window.addEventListener("scroll",this.scrollToTop)},destroyed:function(){window.removeEventListener("scroll",this.scrollToTop)},data:function(){return{isShow:"",isOut:"rightside-out",icon:"iconyueliang"}},methods:{backTop:function(){window.scrollTo({behavior:"smooth",top:0})},scrollToTop:function(){var t=this,e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t.scrollTop=e,t.scrollTop>20?t.isShow="opacity: 1;transform: translateX(-38px);":t.isShow=""},show:function(){var t="rightside-out"==this.isOut;this.isOut=t?"rightside-in":"rightside-out"},check:function(){var t="iconyueliang"==this.icon;this.icon=t?"icontaiyang":"iconyueliang",this.$vuetify.theme.dark=!this.$vuetify.theme.dark}}},M=T,O=(i("f8cb"),Object(u["a"])(M,A,F,!1,null,"58f8da94",null)),z=O.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"600",fullscreen:t.isMobile},model:{value:t.searchFlag,callback:function(e){t.searchFlag=e},expression:"searchFlag"}},[i("v-card",{staticClass:"search-wrapper",staticStyle:{"border-radius":"4px"}},[i("div",{staticClass:"mb-3"},[i("span",{staticClass:"search-title"},[t._v("本地搜索")]),i("v-icon",{staticClass:"float-right",on:{click:function(e){t.searchFlag=!1}}},[t._v(" mdi-close ")])],1),i("div",{staticClass:"search-input-wrapper"},[i("v-icon",[t._v("mdi-magnify")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{placeholder:"输入文章标题或内容..."},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}})],1),i("div",{staticClass:"search-result-wrapper"},[i("hr",{staticClass:"divider"}),i("ul",t._l(t.articleList,(function(e){return i("li",{key:e.id,staticClass:"search-reslut"},[i("a",{domProps:{innerHTML:t._s(e.articleTitle)},on:{click:function(i){return t.goTo(e.id)}}}),i("p",{staticClass:"search-reslut-content text-justify",domProps:{innerHTML:t._s(e.articleContent)}})])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag&&0==t.articleList.length,expression:"flag && articleList.length == 0"}],staticStyle:{"font-size":"0.875rem"}},[t._v(" 找不到您查询的内容："+t._s(t.keywords)+" ")])])])],1)},V=[],B=(i("498a"),{data:function(){return{keywords:"",articleList:[],flag:!1}},methods:{goTo:function(t){this.$store.state.searchFlag=!1,this.$router.push({path:"/articles/"+t})}},computed:{searchFlag:{set:function(t){this.$store.state.searchFlag=t},get:function(){return this.$store.state.searchFlag}},isMobile:function(){var t=document.documentElement.clientWidth;return!(t>960)}},watch:{keywords:function(t){var e=this;this.flag=""!=t.trim(),this.axios.get("/api/articles/search",{params:{current:1,keywords:t}}).then((function(t){var i=t.data;e.articleList=i.data}))}}}),D=B,R=(i("0a0f"),i("b0af")),N=i("169a"),q=i("132d"),W=Object(u["a"])(D,P,V,!1,null,"e4efb7a4",null),Z=W.exports;d()(W,{VCard:R["a"],VDialog:N["a"],VIcon:q["a"]});var U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:t.isMobile,"max-width":"460"},model:{value:t.loginFlag,callback:function(e){t.loginFlag=e},expression:"loginFlag"}},[i("v-card",{staticClass:"login-container",staticStyle:{"border-radius":"4px"}},[i("v-icon",{staticClass:"float-right",on:{click:function(e){t.loginFlag=!1}}},[t._v(" mdi-close ")]),i("div",{staticClass:"login-wrapper"},[i("v-text-field",{attrs:{label:"邮箱号",placeholder:"请输入您的邮箱号",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),i("v-text-field",{staticClass:"mt-7",attrs:{label:"密码",placeholder:"请输入您的密码","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-btn",{staticClass:"mt-7",staticStyle:{color:"#fff"},attrs:{block:"",color:"blue"},on:{click:t.login}},[t._v(" 登录 ")]),i("div",{staticClass:"mt-10 login-tip"},[i("span",{on:{click:t.openRegister}},[t._v("立即注册")]),i("span",{staticClass:"float-right",on:{click:t.openForget}},[t._v("忘记密码?")])]),t.socialLoginList.length>0?i("div",[i("div",{staticClass:"social-login-title"},[t._v("社交账号登录")]),i("div",{staticClass:"social-login-wrapper"},[t.showLogin("weibo")?i("a",{staticClass:"mr-3 iconfont iconweibo",staticStyle:{color:"#e05244"},on:{click:t.weiboLogin}}):t._e(),t.showLogin("qq")?i("a",{staticClass:"iconfont iconqq",staticStyle:{color:"#00AAEE"},on:{click:t.qqLogin}}):t._e()])]):t._e()],1)],1)],1)},Y=[],Q=(i("c975"),i("3ca3"),i("ddb0"),i("2b3d"),{data:function(){return{username:"",password:"",show:!1}},computed:{loginFlag:{set:function(t){this.$store.state.loginFlag=t},get:function(){return this.$store.state.loginFlag}},isMobile:function(){var t=document.documentElement.clientWidth;return!(t>960)},socialLoginList:function(){return this.$store.state.blogInfo.websiteConfig.socialLoginList},showLogin:function(){return function(t){return-1!=this.socialLoginList.indexOf(t)}}},methods:{openRegister:function(){this.$store.state.loginFlag=!1,this.$store.state.registerFlag=!0},openForget:function(){this.$store.state.loginFlag=!1,this.$store.state.forgetFlag=!0},login:function(){var t=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!t.test(this.username))return this.$toast({type:"error",message:"邮箱格式不正确"}),!1;if(0==this.password.trim().length)return this.$toast({type:"error",message:"密码不能为空"}),!1;var e=this,i=new TencentCaptcha(this.config.TENCENT_CAPTCHA,(function(t){if(0===t.ret){var i=new URLSearchParams;i.append("username",e.username),i.append("password",e.password),e.axios.post("/api/login",i).then((function(t){var i=t.data;i.flag?(e.username="",e.password="",window.sessionStorage.setItem("Authorization",i.data.token),e.$store.commit("login",i.data),e.$store.commit("closeModel"),e.$toast({type:"success",message:"登录成功"})):e.$toast({type:"error",message:i.message})}))}}));i.show()},qqLogin:function(){this.$store.commit("saveLoginUrl",this.$route.path),navigator.userAgent.match(/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i)?QC.Login.showPopup({appId:this.config.QQ_APP_ID,redirectURI:this.config.QQ_REDIRECT_URI}):window.open("https://graph.qq.com/oauth2.0/show?which=Login&display=pc&client_id="+ +this.config.QQ_APP_ID+"&response_type=token&scope=all&redirect_uri="+this.config.QQ_REDIRECT_URI,"_self")},weiboLogin:function(){this.$store.commit("saveLoginUrl",this.$route.path),window.open("https://api.weibo.com/oauth2/authorize?client_id="+this.config.WEIBO_APP_ID+"&response_type=code&redirect_uri="+this.config.WEIBO_REDIRECT_URI,"_self")}}}),H=Q,J=(i("671e"),i("8336")),K=i("8654"),X=Object(u["a"])(H,U,Y,!1,null,"4c6b4924",null),G=X.exports;d()(X,{VBtn:J["a"],VCard:R["a"],VDialog:N["a"],VIcon:q["a"],VTextField:K["a"]});var tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:t.isMobile,"max-width":"460"},model:{value:t.registerFlag,callback:function(e){t.registerFlag=e},expression:"registerFlag"}},[i("v-card",{staticClass:"login-container",staticStyle:{"border-radius":"4px"}},[i("v-icon",{staticClass:"float-right",on:{click:function(e){t.registerFlag=!1}}},[t._v(" mdi-close ")]),i("div",{staticClass:"login-wrapper"},[i("v-text-field",{attrs:{label:"邮箱号",placeholder:"请输入您的邮箱号",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),i("div",{staticClass:"mt-7 send-wrapper"},[i("v-text-field",{attrs:{maxlength:"6",label:"验证码",placeholder:"请输入6位验证码"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-btn",{attrs:{text:"",small:"",disabled:t.flag},on:{click:t.sendCode}},[t._v(" "+t._s(t.codeMsg)+" ")])],1),i("v-text-field",{staticClass:"mt-7",attrs:{label:"密码",placeholder:"请输入您的密码","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)},"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-btn",{staticClass:"mt-7",staticStyle:{color:"#fff"},attrs:{block:"",color:"red"},on:{click:t.register}},[t._v(" 注册 ")]),i("div",{staticClass:"mt-10 login-tip"},[t._v(" 已有账号？"),i("span",{on:{click:t.openLogin}},[t._v("登录")])])],1)],1)],1)},et=[],it={data:function(){return{username:"",code:"",password:"",flag:!0,codeMsg:"发送",time:60,show:!1}},methods:{openLogin:function(){this.$store.state.registerFlag=!1,this.$store.state.loginFlag=!0},sendCode:function(){var t=this,e=new TencentCaptcha(this.config.TENCENT_CAPTCHA,(function(e){0===e.ret&&(t.countDown(),t.axios.get("/api/users/code",{params:{username:t.username}}).then((function(e){var i=e.data;i.flag?t.$toast({type:"success",message:"发送成功"}):t.$toast({type:"error",message:i.message})})))}));e.show()},countDown:function(){var t=this;this.flag=!0,this.timer=setInterval((function(){t.time--,t.codeMsg=t.time+"s",t.time<=0&&(clearInterval(t.timer),t.codeMsg="发送",t.time=60,t.flag=!1)}),1e3)},register:function(){var t=this,e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!e.test(this.username))return this.$toast({type:"error",message:"邮箱格式不正确"}),!1;if(6!=this.code.trim().length)return this.$toast({type:"error",message:"请输入6位验证码"}),!1;if(this.password.trim().length<6)return this.$toast({type:"error",message:"密码不能少于6位"}),!1;var i={username:this.username,password:this.password,code:this.code};this.axios.post("/api/register",i).then((function(e){var a=e.data;if(a.flag){var s=new URLSearchParams;s.append("username",i.username),s.append("password",i.password),t.axios.post("/api/login",s).then((function(e){var i=e.data;t.username="",t.password="",window.sessionStorage.setItem("Authorization",i.data.token),t.$store.commit("login",i.data),t.$store.commit("closeModel")})),t.$toast({type:"success",message:"登录成功"})}else t.$toast({type:"error",message:a.message})}))}},computed:{registerFlag:{set:function(t){this.$store.state.registerFlag=t},get:function(){return this.$store.state.registerFlag}},isMobile:function(){var t=document.documentElement.clientWidth;return!(t>960)}},watch:{username:function(t){var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;e.test(t)?this.flag=!1:this.flag=!0}}},at=it,st=Object(u["a"])(at,tt,et,!1,null,null,null),nt=st.exports;d()(st,{VBtn:J["a"],VCard:R["a"],VDialog:N["a"],VIcon:q["a"],VTextField:K["a"]});var ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:t.isMobile,"max-width":"460"},model:{value:t.forgetFlag,callback:function(e){t.forgetFlag=e},expression:"forgetFlag"}},[i("v-card",{staticClass:"login-container",staticStyle:{"border-radius":"4px"}},[i("v-icon",{staticClass:"float-right",on:{click:function(e){t.forgetFlag=!1}}},[t._v(" mdi-close ")]),i("div",{staticClass:"login-wrapper"},[i("v-text-field",{attrs:{label:"邮箱号",placeholder:"请输入您的邮箱号",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.forget(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),i("div",{staticClass:"mt-7 send-wrapper"},[i("v-text-field",{attrs:{maxlength:"6",label:"验证码",placeholder:"请输入6位验证码"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.forget(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-btn",{attrs:{disabled:t.flag,text:"",small:""},on:{click:t.sendCode}},[t._v(" "+t._s(t.codeMsg)+" ")])],1),i("v-text-field",{staticClass:"mt-7",attrs:{label:"密码",placeholder:"请输入您的密码","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.forget(e)},"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-btn",{staticClass:"mt-7",staticStyle:{color:"#fff"},attrs:{block:"",color:"green"},on:{click:t.forget}},[t._v(" 确定 ")]),i("div",{staticClass:"mt-10 login-tip"},[t._v(" 已有账号？"),i("span",{on:{click:t.openLogin}},[t._v("登录")])])],1)],1)],1)},ct=[],rt={data:function(){return{username:"",code:"",password:"",flag:!0,codeMsg:"发送",time:60,show:!1}},methods:{openLogin:function(){this.$store.state.forgetFlag=!1,this.$store.state.loginFlag=!0},sendCode:function(){var t=this,e=new TencentCaptcha(this.config.TENCENT_CAPTCHA,(function(e){0===e.ret&&(t.countDown(),t.axios.get("/api/users/code",{params:{username:t.username}}).then((function(e){var i=e.data;i.flag?t.$toast({type:"success",message:"发送成功"}):t.$toast({type:"error",message:i.message})})))}));e.show()},countDown:function(){var t=this;this.flag=!0,this.timer=setInterval((function(){t.time--,t.codeMsg=t.time+"s",t.time<=0&&(clearInterval(t.timer),t.codeMsg="发送",t.time=60,t.flag=!1)}),1e3)},forget:function(){var t=this,e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!e.test(this.username))return this.$toast({type:"error",message:"邮箱格式不正确"}),!1;if(6!=this.code.trim().length)return this.$toast({type:"error",message:"请输入6位验证码"}),!1;if(this.password.trim().length<6)return this.$toast({type:"error",message:"密码不能少于6位"}),!1;var i={username:this.username,password:this.password,code:this.code};this.axios.put("/api/users/password",i).then((function(e){var i=e.data;i.flag?t.$toast({type:"success",message:"修改成功"}):t.$toast({type:"error",message:i.message})}))}},computed:{forgetFlag:{set:function(t){this.$store.state.forgetFlag=t},get:function(){return this.$store.state.forgetFlag}},isMobile:function(){var t=document.documentElement.clientWidth;return!(t>960)}},watch:{username:function(t){var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;e.test(t)?this.flag=!1:this.flag=!0}}},lt=rt,ut=Object(u["a"])(lt,ot,ct,!1,null,null,null),ht=ut.exports;d()(ut,{VBtn:J["a"],VCard:R["a"],VDialog:N["a"],VIcon:q["a"],VTextField:K["a"]});var dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:t.isMobile,"max-width":"460"},model:{value:t.emailFlag,callback:function(e){t.emailFlag=e},expression:"emailFlag"}},[i("v-card",{staticClass:"login-container",staticStyle:{"border-radius":"4px"}},[i("v-icon",{staticClass:"float-right",on:{click:function(e){t.emailFlag=!1}}},[t._v(" mdi-close ")]),i("div",{staticClass:"login-wrapper"},[i("v-text-field",{attrs:{label:"邮箱号",placeholder:"请输入您的邮箱号",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("div",{staticClass:"mt-7 send-wrapper"},[i("v-text-field",{attrs:{maxlength:"6",label:"验证码",placeholder:"请输入6位验证码"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-btn",{attrs:{text:"",small:"",disabled:t.flag},on:{click:t.sendCode}},[t._v(" "+t._s(t.codeMsg)+" ")])],1),i("v-btn",{staticClass:"mt-7",staticStyle:{color:"#fff"},attrs:{block:"",color:"blue"},on:{click:t.saveUserEmail}},[t._v(" 绑定 ")])],1)],1)],1)},ft=[],pt={data:function(){return{email:this.$store.state.email,code:"",flag:!0,codeMsg:"发送",time:60,show:!1}},methods:{sendCode:function(){var t=this,e=new TencentCaptcha(this.config.TENCENT_CAPTCHA,(function(e){0===e.ret&&(t.countDown(),t.axios.get("/api/users/code",{params:{username:t.email}}).then((function(e){var i=e.data;i.flag?t.$toast({type:"success",message:i.message}):t.$toast({type:"error",message:i.message})})))}));e.show()},countDown:function(){var t=this;this.flag=!0,this.timer=setInterval((function(){t.time--,t.codeMsg=t.time+"s",t.time<=0&&(clearInterval(t.timer),t.codeMsg="发送",t.time=60,t.flag=!1)}),1e3)},saveUserEmail:function(){var t=this,e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!e.test(this.email))return this.$toast({type:"error",message:"邮箱格式不正确"}),!1;if(6!=this.code.trim().length)return this.$toast({type:"error",message:"请输入6位验证码"}),!1;var i={email:this.email,code:this.code};this.axios.post("/api/users/email",i).then((function(e){var i=e.data;i.flag?(t.$store.commit("saveEmail",t.email),t.email="",t.code="",t.$store.commit("closeModel"),t.$toast({type:"success",message:i.message})):t.$toast({type:"error",message:i.message})}))}},computed:{emailFlag:{set:function(t){this.$store.state.emailFlag=t},get:function(){return this.$store.state.emailFlag}},isMobile:function(){var t=document.documentElement.clientWidth;return!(t>960)}},watch:{email:function(t){var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;e.test(t)?this.flag=!1:this.flag=!0}}},mt=pt,gt=(i("f4f5"),Object(u["a"])(mt,dt,ft,!1,null,"5b46a2c0",null)),vt=gt.exports;d()(gt,{VBtn:J["a"],VCard:R["a"],VDialog:N["a"],VIcon:q["a"],VTextField:K["a"]});var kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"chat-container animated bounceInUp",on:{click:t.closeAll,contextmenu:function(e){return e.preventDefault(),e.stopPropagation(),t.closeAll(e)}}},[i("div",{staticClass:"header"},[i("img",{attrs:{width:"32",height:"32",src:"https://static.talkxj.com/config/logo.png"}}),i("div",{staticStyle:{"margin-left":"12px"}},[i("div",[t._v("聊天室")]),i("div",{staticStyle:{"font-size":"12px"}},[t._v("当前"+t._s(t.count)+"人在线")])]),i("v-icon",{staticClass:"close",on:{click:function(e){t.isShow=!1}}},[t._v(" mdi-close ")])],1),i("div",{staticClass:"message",attrs:{id:"message"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.voiceActive,expression:"voiceActive"}],staticClass:"voice",on:{mousemove:function(e){return e.preventDefault(),e.stopPropagation(),t.translationmove(e)},mouseup:function(e){return e.preventDefault(),e.stopPropagation(),t.translationEnd(e)}}},[i("v-icon",{ref:"voiceClose",staticClass:"close-voice"},[t._v("mdi-close")])],1),t._l(t.chatRecordList,(function(e,a){return i("div",{key:a,class:t.isMyMessage(e)},[i("img",{class:t.isleft(e),attrs:{src:e.avatar}}),i("div",[t.isSelf(e)?t._e():i("div",{staticClass:"nickname"},[t._v(" "+t._s(e.nickname)+" "),i("span",{staticStyle:{"margin-left":"12px"}},[t._v(t._s(t._f("hour")(e.createTime)))])]),i("div",{ref:"content",refInFor:!0,class:t.isMyContent(e),on:{contextmenu:function(i){return i.preventDefault(),i.stopPropagation(),t.showBack(e,a,i)}}},[3==e.type?i("div",{domProps:{innerHTML:t._s(e.content)}}):t._e(),5==e.type?i("div",{on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.playVoice(e)}}},[i("audio",{ref:"voices",refInFor:!0,staticStyle:{display:"none"},attrs:{src:e.content},on:{ended:function(i){return t.endVoice(e)},canplay:function(i){return t.getVoiceTime(e)}}}),i("v-icon",{ref:"plays",refInFor:!0,staticStyle:{display:"inline-flex",cursor:"pointer"},attrs:{color:t.isSelf(e)?"#fff":"#000"}},[t._v(" mdi-arrow-right-drop-circle ")]),i("v-icon",{ref:"pauses",refInFor:!0,staticStyle:{display:"none",cursor:"pointer"},attrs:{color:t.isSelf(e)?"#fff":"#000"}},[t._v(" mdi-pause-circle ")]),i("span",{ref:"voiceTimes",refInFor:!0})],1):t._e(),i("div",{ref:"backBtn",refInFor:!0,staticClass:"back-menu",on:{click:function(i){return t.back(e,a)}}},[t._v(" 撤回 ")])])])])}))],2),i("div",{staticClass:"footer"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmoji,expression:"isEmoji"}],staticClass:"emoji-box"},[i("Emoji",{attrs:{chooseEmoji:!0},on:{addEmoji:t.addEmoji}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmoji,expression:"isEmoji"}],staticClass:"emoji-border"}),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isVoice,expression:"!isVoice"}],staticStyle:{"margin-right":"8px"},on:{click:function(e){t.isVoice=!t.isVoice}}},[t._v(" mdi-microphone ")]),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:t.isVoice,expression:"isVoice"}],staticStyle:{"margin-right":"8px"},on:{click:function(e){t.isVoice=!t.isVoice}}},[t._v(" mdi-keyboard ")]),i("textarea",{directives:[{name:"show",rawName:"v-show",value:!t.isVoice,expression:"!isVoice"},{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"chatInput",attrs:{placeholder:"请输入内容"},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveMessage(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont iconbiaoqing emoji",style:t.isEmoji?"color:#FFC83D":"",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openEmoji(e)}}}),i("i",{class:t.isInput,staticStyle:{"font-size":"1.5rem"},on:{click:t.saveMessage}})],1)]),i("div",{staticClass:"chat-btn",on:{click:t.open}},[t.unreadCount>0?i("span",{staticClass:"unread"},[t._v(t._s(t.unreadCount))]):t._e(),i("img",{attrs:{width:"100%",height:"100%",src:"https://static.talkxj.com/config/logo.png"}})])])},bt=[],wt=(i("4160"),i("a434"),i("5319"),i("159b"),i("6c03")),yt=i("bbe3"),jt=i("f568"),xt={components:{Emoji:yt["a"]},updated:function(){var t=document.getElementById("message");t.scrollTop=t.scrollHeight},beforeDestroy:function(){clearInterval(this.heartBeat)},data:function(){return{isEmoji:!1,isShow:!1,websocket:null,content:"",chatRecordList:[],voiceList:[],rc:null,ipAddress:"",ipSource:"",count:0,unreadCount:0,isVoice:!1,voiceActive:!1,startVoiceTime:null,WebsocketMessage:{type:null,data:null},heartBeat:null}},methods:{open:function(){null==this.websocket&&this.connect(),this.unreadCount=0,this.isShow=!this.isShow},openEmoji:function(){this.isEmoji=!this.isEmoji,this.isVoice=!1},connect:function(){var t=this;this.websocket=new WebSocket(this.blogInfo.websiteConfig.websocketUrl),this.websocket.onerror=function(t){console.log(t),alert("失败")},this.websocket.onopen=function(e){console.log(e),t.heartBeat=setInterval((function(){var e={type:6,data:"ping"};t.websocket.send(JSON.stringify(e))}),3e4)},this.websocket.onmessage=function(e){var i=JSON.parse(e.data);switch(i.type){case 1:t.count=i.data;break;case 2:t.chatRecordList=i.data.chatRecordList,t.chatRecordList.forEach((function(e){5==e.type&&t.voiceList.push(e.id)})),t.ipAddress=i.data.ipAddress,t.ipSource=i.data.ipSource;break;case 3:t.chatRecordList.push(i.data),t.isShow||t.unreadCount++;break;case 4:i.data.isVoice&&t.voiceList.splice(t.voiceList.indexOf(i.data.id),1);for(var a=0;a<t.chatRecordList.length;a++)t.chatRecordList[a].id==i.data.id&&(t.chatRecordList.splice(a,1),a--);break;case 5:t.voiceList.push(i.data.id),t.chatRecordList.push(i.data),t.isShow||t.unreadCount++;break}},this.websocket.onclose=function(){}},saveMessage:function(t){if(t.preventDefault(),""==this.content.trim())return this.$toast({type:"error",message:"内容不能为空"}),!1;var e=/\[.+?\]/g;this.content=this.content.replace(e,(function(t){return"<img src= '"+jt["a"][t]+"' width='24'height='24' style='margin: 0 1px;vertical-align: text-bottom'/>"}));var i={nickname:this.nickname,avatar:this.avatar,content:this.content,userId:this.userId,type:3,ipAddress:this.ipAddress,ipSource:this.ipSource};this.WebsocketMessage.type=3,this.WebsocketMessage.data=i,this.websocket.send(JSON.stringify(this.WebsocketMessage)),this.content=""},addEmoji:function(t){this.isEmoji=!1,this.$refs.chatInput.focus(),this.content+=t},showBack:function(t,e,i){this.$refs.backBtn.forEach((function(t){t.style.display="none"})),(t.ipAddress==this.ipAddress||null!=t.userId&&t.userId==this.userId)&&(this.$refs.backBtn[e].style.left=i.offsetX+"px",this.$refs.backBtn[e].style.bottom=i.offsetY+"px",this.$refs.backBtn[e].style.display="block")},back:function(t,e){var i={id:t.id,isVoice:5==t.type};this.WebsocketMessage.type=4,this.WebsocketMessage.data=i,this.websocket.send(JSON.stringify(this.WebsocketMessage)),this.$refs.backBtn[e].style.display="none"},closeAll:function(){this.isEmoji=!1,this.chatRecordList.length>0&&this.$refs.backBtn.forEach((function(t){t.style.display="none"}))},translationStart:function(){this.voiceActive=!0;var t=this;t.rc=new wt["b"],t.$nextTick((function(){t.rc.start().then((function(){t.startVoiceTime=new Date,console.log("start recording")})).catch((function(t){console.log("Recording failed.",t)}))}))},translationEnd:function(){if(console.log("结束"),this.voiceActive=!1,this.rc.pause(),new Date-this.startVoiceTime<1e3)return this.$toast({type:"error",message:"按键时间太短"}),!1;var t=this.rc.getRecord({encodeTo:wt["a"].WAV}),e=new File([t],"voice.wav",{type:t.type}),i=new window.FormData;i.append("file",e),i.append("type",5),i.append("nickname",this.nickname),i.append("avatar",this.avatar),null!=this.userId&&i.append("userId",this.userId),i.append("ipAddress",this.ipAddress),i.append("ipSource",this.ipSource);var a={url:"/api/voice",data:i,method:"post",headers:{"Content-Type":"multipart/form-data"}};this.axios(a)}},computed:{isSelf:function(){return function(t){return t.ipAddress==this.ipAddress||null!=t.userId&&t.userId==this.userId}},isleft:function(){return function(t){return this.isSelf(t)?"user-avatar right-avatar":"user-avatar left-avatar"}},isMyContent:function(){return function(t){return this.isSelf(t)?"my-content":"user-content"}},isMyMessage:function(){return function(t){return this.isSelf(t)?"my-message":"user-message"}},blogInfo:function(){return this.$store.state.blogInfo},nickname:function(){return null!=this.$store.state.nickname?this.$store.state.nickname:this.ipAddress},avatar:function(){return null!=this.$store.state.avatar?this.$store.state.avatar:this.$store.state.blogInfo.websiteConfig.touristAvatar},userId:function(){return this.$store.state.userId},isInput:function(){return""!=this.content.trim()?"iconfont iconzhifeiji submit-btn":"iconfont iconzhifeiji"}}},Ct=xt,_t=(i("4f5e"),Object(u["a"])(Ct,kt,bt,!1,null,"b32c6bb4",null)),$t=_t.exports;d()(_t,{VIcon:q["a"]});var St={created:function(){this.getBlogInfo(),this.axios.post("/api/report")},components:{TopNavBar:m,SideNavBar:x,Footer:L,BackTop:z,searchModel:Z,LoginModel:G,RegisterModel:nt,ForgetModel:ht,EmailModel:vt,ChatRoom:$t},methods:{getBlogInfo:function(){var t=this;this.axios.get("/api/").then((function(e){var i=e.data;t.$store.commit("checkBlogInfo",i.data)}))}},computed:{blogInfo:function(){return this.$store.state.blogInfo},isMobile:function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t}}},It=St,Et=i("7496"),Lt=i("a75b"),At=Object(u["a"])(It,s,n,!1,null,null,null),Ft=At.exports;d()(At,{VApp:Et["a"],VContent:Lt["a"]});var Tt=i("8c4f");a["a"].use(Tt["a"]);var Mt=[{path:"/",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-7fe92c9b"),i.e("chunk-54777ed0")]).then(function(){var e=[i("b3d7")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/articles/:articleId",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-7fe92c9b"),i.e("chunk-1c26093c"),i.e("chunk-78792e49")]).then(function(){var e=[i("fa20")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/archives",component:function(t){return i.e("chunk-240ca8eb").then(function(){var e=[i("1cd8")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"归档"}},{path:"/albums",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-5272f513")]).then(function(){var e=[i("5ccf")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"相册"}},{path:"/talks",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-a1e28174")]).then(function(){var e=[i("c592")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"说说"}},{path:"/talks/:talkId",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-7825f32a")]).then(function(){var e=[i("a0c0")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"说说"}},{path:"/albums/:albumId",component:function(t){return i.e("chunk-7efea3f2").then(function(){var e=[i("0dfd")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/tags",component:function(t){return i.e("chunk-27ccb0ff").then(function(){var e=[i("bf11")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"标签"}},{path:"/categories",component:function(t){return i.e("chunk-94a00e3a").then(function(){var e=[i("bb51")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"分类"}},{path:"/categories/:categoryId",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-18c57537")]).then(function(){var e=[i("cccf")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/tags/:tagId",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-18c57537")]).then(function(){var e=[i("cccf")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/about",component:function(t){return Promise.all([i.e("chunk-7fe92c9b"),i.e("chunk-1c26093c"),i.e("chunk-be11b98e")]).then(function(){var e=[i("ef4c")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"关于我"}},{path:"/message",component:function(t){return i.e("chunk-00236c95").then(function(){var e=[i("0944")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"留言板"}},{path:"/user",component:function(t){return Promise.all([i.e("chunk-92a14dc8"),i.e("chunk-5e8139b2")]).then(function(){var e=[i("9419")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{title:"个人中心"}},{path:"/oauth/login/qq",component:function(t){return i.e("chunk-694d5f9e").then(function(){var e=[i("6d41")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/oauth/login/weibo",component:function(t){return i.e("chunk-694d5f9e").then(function(){var e=[i("6d41")];t.apply(null,e)}.bind(this)).catch(i.oe)}}],Ot=new Tt["a"]({mode:"history",base:"/",routes:Mt}),zt=Ot,Pt=i("2f62"),Vt=i("0e44");a["a"].use(Pt["a"]);var Bt=new Pt["a"].Store({state:{searchFlag:!1,loginFlag:!1,registerFlag:!1,forgetFlag:!1,emailFlag:!1,drawer:!1,loginUrl:"",userId:null,avatar:null,nickname:null,intro:null,webSite:null,loginType:null,email:null,articleLikeSet:[],commentLikeSet:[],talkLikeSet:[],blogInfo:{},token:null},mutations:{login:function(t,e){t.userId=e.userInfoId,t.avatar=e.avatar,t.nickname=e.nickname,t.intro=e.intro,t.webSite=e.webSite,t.articleLikeSet=e.articleLikeSet?e.articleLikeSet:[],t.commentLikeSet=e.commentLikeSet?e.commentLikeSet:[],t.talkLikeSet=e.talkLikeSet?e.talkLikeSet:[],t.email=e.email,t.loginType=e.loginType,t.token=e.token},logout:function(t){t.userId=null,t.avatar=null,t.nickname=null,t.intro=null,t.webSite=null,t.articleLikeSet=[],t.commentLikeSet=[],t.talkLikeSet=[],t.email=null,t.loginType=null,t.token=null},saveLoginUrl:function(t,e){t.loginUrl=e},saveEmail:function(t,e){t.email=e},updateUserInfo:function(t,e){t.nickname=e.nickname,t.intro=e.intro,t.webSite=e.webSite},savePageInfo:function(t,e){t.pageList=e},updateAvatar:function(t,e){t.avatar=e},checkBlogInfo:function(t,e){t.blogInfo=e},closeModel:function(t){t.registerFlag=!1,t.loginFlag=!1,t.searchFlag=!1,t.emailFlag=!1},articleLike:function(t,e){var i=t.articleLikeSet;-1!=i.indexOf(e)?i.splice(i.indexOf(e),1):i.push(e)},commentLike:function(t,e){var i=t.commentLikeSet;-1!=i.indexOf(e)?i.splice(i.indexOf(e),1):i.push(e)},talkLike:function(t,e){var i=t.talkLikeSet;-1!=i.indexOf(e)?i.splice(i.indexOf(e),1):i.push(e)},setToken:function(t,e){t.token=e}},actions:{},modules:{},plugins:[Object(Vt["a"])({storage:window.sessionStorage})]}),Dt=i("f309");a["a"].use(Dt["a"]);var Rt=new Dt["a"]({}),Nt=i("77ed"),qt=i.n(Nt),Wt=(i("a2f0"),i("3a10"),i("b8cc"),i("93e3"),{QQ_APP_ID:"765327432",QQ_REDIRECT_URI:"https://www.talkxj.com/oauth/login/qq",WEIBO_APP_ID:"4039197195",WEIBO_REDIRECT_URI:"https://www.talkxj.com/oauth/login/weibo",TENCENT_CAPTCHA:"15777622607"}),Zt=i("edee"),Ut=i.n(Zt),Yt=i("5a0c"),Qt=i.n(Yt),Ht=i("1188"),Jt=i("bc3a"),Kt=i.n(Jt),Xt=i("a7fe"),Gt=i.n(Xt),te=i("e166"),ee=i.n(te),ie=(i("9f21"),i("b1fa")),ae=i.n(ie),se=(i("d601"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-snackbar",{attrs:{top:"",timeout:2e3,color:t.color},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("i",{class:t.icon,staticStyle:{"margin-right":"10px"}}),t._v(t._s(t.message)+" ")])}),ne=[],oe={data:function(){return{show:!1,message:"",type:"normal",color:"#49b1f5",icon:""}},watch:{type:function(t){switch(t){case"error":this.color="#F56C6C",this.icon="iconfont iconcuowu";break;case"success":this.color="#52C41A",this.icon="iconfont iconchenggong";break;case"warnning":this.color="#F57C00",this.icon="iconfont iconchenggong"}}}},ce=oe,re=i("2db4"),le=Object(u["a"])(ce,se,ne,!1,null,null,null),ue=le.exports;d()(le,{VSnackbar:re["a"]});var he={install:function(t){var e=t.extend(ue),i=new e;i.$mount(document.createElement("div")),document.body.appendChild(i.$el),t.prototype.$toast=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;i.message=t.message,i.type=t.type,i.show=!0,setTimeout((function(){i.show=!1}),e)}}},de=he,fe=i("323e"),pe=i.n(fe);i("a5d8");a["a"].prototype.config=Wt,a["a"].config.productionTip=!1,a["a"].use(qt.a),a["a"].use(Ut.a),a["a"].use(Ht["vueBaberrage"]),a["a"].use(ee.a),a["a"].use(Gt.a,Kt.a),a["a"].use(ae.a),a["a"].use(de),a["a"].filter("date",(function(t){return Qt()(t).format("YYYY-MM-DD")})),a["a"].filter("year",(function(t){return Qt()(t).format("YYYY")})),a["a"].filter("hour",(function(t){return Qt()(t).format("HH:mm:ss")})),a["a"].filter("time",(function(t){return Qt()(t).format("YYYY-MM-DD HH:mm:ss")})),a["a"].filter("num",(function(t){return t>=1e3?(t/1e3).toFixed(1)+"k":t})),zt.beforeEach((function(t,e,i){pe.a.start(),t.meta.title&&(document.title=t.meta.title),i()})),zt.afterEach((function(){window.scrollTo({top:0,behavior:"instant"}),pe.a.done()})),Kt.a.interceptors.request.use((function(t){return window.sessionStorage.getItem("Authorization")&&(t.headers.Authorization=window.sessionStorage.getItem("Authorization")),t}),(function(t){return Promise.reject(t)})),Kt.a.interceptors.response.use((function(t){switch(t.data.code){case 5e4:a["a"].prototype.$toast({type:"error",message:"系统异常"});break;case 60002:a["a"].prototype.$toast({type:"error",message:t.data.message}),window.sessionStorage.removeItem("Authorization"),Bt.commit("logout"),zt.push({path:"/"}),Bt.state.loginFlag=!0;break}return t}),(function(t){return Promise.reject(t)})),new a["a"]({router:zt,store:Bt,vuetify:Rt,render:function(t){return t(Ft)}}).$mount("#app")},"671e":function(t,e,i){"use strict";var a=i("01c9"),s=i.n(a);s.a},"7aa5":function(t,e,i){"use strict";var a=i("9740"),s=i.n(a);s.a},"8a98":function(t,e,i){"use strict";var a=i("a9c7"),s=i.n(a);s.a},"902b":function(t,e,i){},"93e3":function(t,e,i){},9740:function(t,e,i){},a2f0:function(t,e,i){},a3ff:function(t,e,i){"use strict";var a=i("0122"),s=i.n(a);s.a},a9c7:function(t,e,i){},b3ca:function(t,e,i){"use strict";var a=i("17d0"),s=i.n(a);s.a},b8cc:function(t,e,i){},bbe3:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.chooseEmoji,expression:"chooseEmoji"}],staticClass:"emoji-wrapper"},t._l(t.emojiList,(function(e,a,s){return i("span",{key:s,staticClass:"emoji-item",on:{click:function(e){return t.addEmoji(a)}}},[i("v-img",{staticClass:"emoji",attrs:{"lazy-src":e,src:e,title:a,width:"24",height:"24"}})],1)})),0)},s=[],n=i("f568"),o={props:{chooseEmoji:{type:Boolean}},data:function(){return{emojiList:n["a"]}},methods:{addEmoji:function(t){this.$emit("addEmoji",t)}}},c=o,r=(i("a3ff"),i("2877")),l=i("6544"),u=i.n(l),h=i("adda"),d=Object(r["a"])(c,a,s,!1,null,"4f9220e6",null);e["a"]=d.exports;u()(d,{VImg:h["a"]})},f4f5:function(t,e,i){"use strict";var a=i("3c20"),s=i.n(a);s.a},f568:function(t,e,i){"use strict";e["a"]={"[微笑]":"https://static.talkxj.com/emoji/smile.jpg","[笑]":" https://static.talkxj.com/emoji/dx.jpg","[呲牙]":"https://static.talkxj.com/emoji/cy.jpg","[OK]":"https://static.talkxj.com/emoji/ok.jpg","[星星眼]":"https://static.talkxj.com/emoji/xxy.jpg","[哦呼]":"https://static.talkxj.com/emoji/oh.jpg","[嫌弃]":"https://static.talkxj.com/emoji/xq.jpg","[喜欢]":"https://static.talkxj.com/emoji/xh.jpg","[酸了]":"https://static.talkxj.com/emoji/sl.jpg","[大哭]":"https://static.talkxj.com/emoji/dq.jpg?","[害羞]":"https://static.talkxj.com/emoji/hx.jpg","[无语]":"https://static.talkxj.com/emoji/wy.jpg","[疑惑]":"https://static.talkxj.com/emoji/yh.jpg","[调皮]":"https://static.talkxj.com/emoji/tiaopi.jpg","[笑哭]":"https://static.talkxj.com/emoji/xiaoku.jpg","[奸笑]":"https://static.talkxj.com/emoji/jianxiao.jpg","[偷笑]":"https://static.talkxj.com/emoji/touxiao.jpg","[大笑]":"https://static.talkxj.com/emoji/daxiao.jpg","[阴险]":"https://static.talkxj.com/emoji/yinxian.jpg","[捂脸]":"https://static.talkxj.com/emoji/wulian.jpg","[呆]":"https://static.talkxj.com/emoji/dai.jpg","[抠鼻]":"https://static.talkxj.com/emoji/koubi.jpg","[惊喜]":"https://static.talkxj.com/emoji/jingxi.jpg","[惊讶]":"https://static.talkxj.com/emoji/jingya.jpg","[捂脸哭]":"https://static.talkxj.com/emoji/wulianku.jpg","[妙啊]":"https://static.talkxj.com/emoji/miaoa.jpg","[狗头]":"https://static.talkxj.com/emoji/goutou.jpg","[滑稽]":"https://static.talkxj.com/emoji/huaji.jpg","[吃瓜]":"https://static.talkxj.com/emoji/chigua.jpg","[打call]":"https://static.talkxj.com/emoji/dacall.jpg","[点赞]":"https://static.talkxj.com/emoji/dianzan.jpg","[鼓掌]":"https://static.talkxj.com/emoji/guzhang.jpg","[尴尬]":"https://static.talkxj.com/emoji/ganga.jpg","[冷]":"https://static.talkxj.com/emoji/leng.jpg","[灵魂出窍]":"https://static.talkxj.com/emoji/linghunchuqiao.jpg","[委屈]":"https://static.talkxj.com/emoji/weiqu.jpg","[傲娇]":"https://static.talkxj.com/emoji/aojiao.jpg","[疼]":"https://static.talkxj.com/emoji/teng.jpg","[吓]":"https://static.talkxj.com/emoji/xia.jpg?","[生病]":"https://static.talkxj.com/emoji/shengbing.jpg","[吐]":"https://static.talkxj.com/emoji/tu.jpg","[嘘声]":"https://static.talkxj.com/emoji/xusheng.jpg","[捂眼]":"https://static.talkxj.com/emoji/wuyan.jpg","[思考]":"https://static.talkxj.com/emoji/sikao.jpg","[再见]":"https://static.talkxj.com/emoji/zaijian.jpg","[翻白眼]":"https://static.talkxj.com/emoji/fanbaiyan.jpg","[哈欠]":"https://static.talkxj.com/emoji/haqian.jpg","[奋斗]":"https://static.talkxj.com/emoji/fengdou.jpg","[墨镜]":"https://static.talkxj.com/emoji/mojing.jpg","[撇嘴]":"https://static.talkxj.com/emoji/piezui.jpg","[难过]":"https://static.talkxj.com/emoji/nanguo.jpg","[抓狂]":"https://static.talkxj.com/emoji/zhuakuang.jpg","[生气]":"https://static.talkxj.com/emoji/shengqi.jpg","[爱心]":"https://static.talkxj.com/emoji/aixin.jpg","[胜利]":"https://static.talkxj.com/emoji/shengli.jpg","[保佑]":"https://static.talkxj.com/emoji/baoyou.jpg","[支持]":"https://static.talkxj.com/emoji/zhichi.jpg"}},f8cb:function(t,e,i){"use strict";var a=i("469b"),s=i.n(a);s.a}});